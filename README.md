Документация по ПО «TaskLog»

ДОКУМЕНТАЦИЯ К БАЗЕ ДАННЫХ

База данных спроектирована по инфологической модели на изображении 1, которая обеспечивает правильность и понятность будущей базы данных. 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/ec686e87-632d-43a8-8cef-6adbdefe3eed)

Изображение 1 – Инфологическая модель базы данных
	По модели, база данных состоит из четырёх таблиц: 
1)	Tasks – хранит задачи и её компонент;
2)	EventLog – хранит информацию в виде журнала событий;
3)	Components – хранит данные о компоненте;
4)	Users – хранит фамилию, имя, почту и хешированный пароль пользователя.

Для подробного описания полей каждой таблицы можно рассмотреть словарь данных, представленный ниже. 
Справка по словарю данных:
1)	Key – обозначает является ли поле ключом, а если является, то каким: PK (Primary Key) – первичный ключ, или FK (Foreign Key) – внешний ключ;
2)	Name – показывает имя поля; 
3)	DataType – показывает тип данных поля;
4)	Required – если указано «Yes», то поле должно быть обязательно заполненным. Если указано «No», то поле может хранить NULL;
5)	Uniqueness – если указано «Yes», то поле является уникальным;
6)	Linkage – указывает с какой таблицей базы данных связано поле;
7)	Notes – описание поля. Identy означает, что поле является идентификатором - числовым значением, которое автоматически выставляется по порядку возрастания при создании нового поля.
![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/ef20d4a6-b2e2-4d49-9d7f-ebe89d6296c1)
![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/d6b28f92-d288-42a9-a4a6-6bcf07afc393)
![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/1db6c09a-f3c9-4e74-843b-ea5c7157adb6)
![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/af1c6270-d0c0-4d84-b33f-a25d687d9906)

Связи:
1)	Связь 1:М между таблицами User (поле USER_ID) и Tasks (поле USER_ID). Указывает в задаче, какой пользователь создал задачу;
2)	Связь 1:М между таблицами User (поле USER_ID) и EventLog (поле USER_ID). Указывает в журнале событий, какой пользователь изменил статус или комментарий задачи;
3)	Связь 1:М между таблицами Components (поле COMP_ID) и Tasks (поле COMP_ID). Указывает в задаче, какой компонент ремонтируется;
4)	Связь 1:М между таблицами Tasks (поле TASK_ID) и EventLog (поле TASK_ID). Указывает в журнале событий, какая задача относится к событию.
По вышеуказанным данным спроектирована база данных, с диаграммой которой можно ознакомиться на изображении 2.

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/aa69c9b9-6d1e-4dcb-8bdb-cb37c1d2ba6a)

Изображение 2 – Диаграмма базы данных

Документация к развертыванию ПО
Чтобы была возможность подключиться к базе данных с помощью сервера необходимо выполнить следующие шаги:
1.	Включаем необходимые протоколы для работы сервера MicrosoftSQL:
		
1.1.	 Зайти в SQL Server Configuration Manager
  	
1.2.	 Открыть список вкладок в пункте «Сетевая конфигурация SQL Server»

1.3.	 Открыть «Протоколы для MSSQLSERVER»

1.4.	 Включить протокол «TCP/IP»

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/2feffa3e-2e56-4b43-a1be-a8aa3eaeee41)

Изображение 3 – Результат шага 1.4

1.5.	 Перейти на вкладку «Службы SQL Server» 

1.6.	 Перезапустить службу «SQL SERVER (MSSQLSERVER)» 

1.7.	 Включить службу «Агент SQL SERVER (MSSQLSERVER)»

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/380a937c-57cb-4950-baf3-da5b04f47be7)

Изображение 4 – Результат шага 1.7

1.8.	 Перезапустить службу «SQL SERVER (MSSQLSERVER)»;

2.	Создаём правило, которое позволит использовать протокол TCP/IP:
3.	
2.1.	 Зайти в Брандмауэр Защитника Windows
  	
2.2.	 Зайти на вкладку «Дополнительные параметры» 

2.3.	 Зайти на вкладку «Правила для входящих подключений» 

2.4.	 Справа в действиях нажать на «Создать правило…» 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/ea46fd6a-1990-4d8a-b776-e725d2506273)

Изображение 5 – Шаг 2.4

2.5.	 В новом окне выбрать «Для порта» 

2.6.	 Нажать «Далее» 

2.7.	 Выбрать «Протокол TCP» 

2.8.	 Выбрать «Определённые локальные порта», в текстовое поле ввести «1433» 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/9dfb9a05-fca5-43a0-85a4-071b82a13f58)

Изображение 6 – Результат шага 2.8

2.9 Нажать «Далее» 

2.10.	Выбрать «Разрешить подключение» 

2.11.	Выбрать «Доменный», «Частный» и «Публичный» 

2.12.	Нажать «Далее» 

2.13.	Вписать имя правила и по желанию его описание 

2.14.	Нажать «Готово»;

3.	Регистрируем сервер:
	
3.1.	 Зайти в Microsoft SQL Server Management Studio
  	
3.2.	 Произвести соединение с сервером 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/90f33a6c-e7d2-4cc1-b6b4-546baba0825f)

Изображение 7 – Шаг 3.2

3.3 Нажать на имя своего сервера правой мышкой в обозревателе объектов

3.4.	 Нажать «Зарегистрировать…» 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/276506c9-191b-486b-bba1-0c4f466e5d48)

Изображение 8 – Шаг 3.4

3.5.	 В проверке подлинности выбрать «Проверка подлинности SQL Server» 

3.6.	 Вписываем имя сервера и пароль 

3.7.	 В имени зарегистрированного сервера вписать «Все» 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/df90e285-78e4-490a-84a7-270449c25399)

Изображение 9 – Результат шага 3.7

3.8.	 Нажать «Сохранить»;

4.	Создаём имя для входа:

4.1.	 В обозревателе решений раскрыть папку «Безопасность»
  	
4.2.	 Правым кликом мышки нажать на «Имена для входа» и нажать на «Создать имя для входа» 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/b3a75f7a-f016-44a5-8554-48512a6c56f6)

Изображение 10 – Шаг 4.2Вписать имя для входа 

4.4.	 Выбрать «Проверка подлинности SQL Server» 

4.5.	 Вписать пароль и подтвердить его 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/5b649748-9d36-4383-804d-4db8bf1aa0f2)

Изображение 11 – Результат шага 4.5

4.6.	 Перейти на вкладку «Роли сервера» 

4.7.	 Выбрать все роли 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/c99a79c3-f371-46a1-b690-d3f24e48b252)

Изображение 12 – Результат шага 4.7

4.8.	 Перейти на вкладку «Сопоставление пользователей» 

4.9.	 Выбрать базы данных, которые будут доступны при подключении к серверу

4.10.	Вписываем имя для входа в поля пользователя у выбранных баз данных 

4.11.	Снизу выбираем все членства в роли для каждой базы данных 

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/cc6bc60a-b355-4f06-9fdd-47c982c099ba)

Изображение 13 – Результат шага 4.11

4.12.	Нажимаем «Ок»;

5.	Подключаемся к созданному серверу: 

5.1.	 Заново подключить соединение с сервером, выбрав в проверке подлинности «Проверка подлинности SQL Server» 

5.2.	 В имени для входа вписать имя для входа (созданное в пункте 4) 

5.3.	 В поле для пароля вписать пароль от имени для входа (созданный в пункте 4)

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/176ee160-6fba-4a9c-91db-2ca1e690d3c7)

Изображение 14 – Подключение к созданному серверу
6.	Подключаем программу к серверу: 

6.1.	 Открыть конфигурационный файл программы под названием «dataSource.json» в папке «dataSource» 

6.2.	 В значение для ключа «DataSource» вписать ID сервера 

6.3.	 В значение для ключа «UserID» вписать имя для подключения 

6.4.	 В значение для ключа «Password» вписать пароль для имени подключения. 

6.5.	 Пример содержания конфигурационного файла: 
{
"DataSource": "10.2.105.104",
"UserID": "Name",
"Password": "1111"
}

7.	В случае ошибки подключения к базе данных, как на изображении 15.

![image](https://github.com/Derekovskyyy/TaskLog/assets/94841308/3e317475-5200-4339-9678-7ad88446fed4)

Изображение 15 – Ошибка подключения к базе данных
Следует проверить работоспособность программного обеспечения при следующих настройках: 

7.1.	 Зайти в Брандмауэр Защитника Windows 

7.2.	 Зайти на вкладку «Изменение параметров уведомлений» 

7.3.	 В параметрах для частной сети выбрать «Отключить брандмауэр Защитника Windows» 

7.4.	 В параметрах для общественной сети выбрать «Отключить брандмауэр Защитника Windows»

7.5.	 Нажать «Ок»
